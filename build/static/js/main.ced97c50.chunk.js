(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{56:function(e,n,t){},57:function(e,n,t){"use strict";t.r(n);var o,r,i,a,c,d,s,l,b,u,f,j,p,O,x,g,h,m,y,v,k,C,w,A,T,D=t(0),E=t.n(D),M=t(12),F=t.n(M),z=t(11),I=t(8),R=t(63),S=t(3),B=t(4),L=B.a.div(o||(o=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  color: #fff;\n  background: rgba(255, 255, 255, 0.6);\n  border-radius: 4px;\n  margin: 5px;\n  font-family: Roboto, Arial, sans-serif;\n  font-size: 0.875rem;\n  font-weight: 400;\n  color: #000;\n  flex:1;\n"]))),Z=B.a.div(r||(r=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 0 10px 0;\n  h3 {\n    margin: 0;\n  }\n"]))),P=B.a.button(i||(i=Object(S.a)(["\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  background: none;\n  svg {\n    height: 22px;\n    width: 22px;\n  }\n"]))),J=B.a.ul(a||(a=Object(S.a)(["\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),K=B.a.div(c||(c=Object(S.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  padding: 20px;\n  background: #c3d3dc;\n  letter-spacing: 0.01428571em;\n  font-family: Roboto, Arial, sans-serif;\n  font-size: 0.875rem;\n  font-weight: 400;\n  line-height: 1.25rem;\n  color: #000;\n"]))),N=B.a.p(d||(d=Object(S.a)(["\n  font-style: italic;\n"]))),G=t(16),U=function(e,n){var t=function(t){e.current&&!e.current.contains(t.target)&&n()};Object(D.useEffect)((function(){return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}))},W=B.a.div(s||(s=Object(S.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  padding: 20px;\n  background: #fff;\n  border-radius: 4px;\n  letter-spacing: 0.01428571em;\n  font-family: Roboto, Arial, sans-serif;\n  font-size: 0.875rem;\n  font-weight: 400;\n  line-height: 1.25rem;\n  color: #000;\n  input {\n    width: 100%;\n    outline: none;\n    border: none;\n  }\n"]))),q=B.a.span(l||(l=Object(S.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),H=B.a.button(b||(b=Object(S.a)(["\n  padding: 8px 16px;\n  color: #fff;\n  border: none;\n  cursor: pointer;\n"]))),Q=Object(B.a)(H)(u||(u=Object(S.a)(["\n  color: #000;\n  border: none;\n  background: none;\n  font-weight: bold;\n  font-family: Roboto, Arial, sans-serif;\n"]))),V=Object(B.a)(H)(f||(f=Object(S.a)(["\n  background: #4caf50;\n  :disabled {\n    opacity: 0.5;\n  }\n"]))),X=B.a.button(j||(j=Object(S.a)(["\n  padding: 0;\n  align-self: flex-end;\n  display: flex;\n  background: transparent;\n  align-items: center;\n  cursor: pointer;\n  color: #000;\n  border: none;\n  transition: 0.3s;\n  font-weight: bold;\n  font-family: Roboto, Arial, sans-serif;\n  svg {\n    margin-left: 5px;\n  }\n"]))),Y=t(1),$=function(e){var n=e.isOpen,t=e.setIsOpen,o=e.createTask,r=E.a.useRef(null),i=Object(D.createRef)(),a=Object(D.useState)(""),c=Object(I.a)(a,2),d=c[0],s=c[1],l=function(){t(!1),s("")};U(i,(function(){d&&o(d.trim()),l()}));return n?Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)("form",{onSubmit:function(e){var n;(e.preventDefault(),d.trim())?(o(d.trim()),l()):null===(n=r.current)||void 0===n||n.focus()},ref:i,children:[Object(Y.jsx)(W,{children:Object(Y.jsx)("input",{id:"newTaskInput",autoFocus:!0,ref:r,value:d,onChange:function(e){return s(e.target.value)}})}),Object(Y.jsxs)(q,{children:[Object(Y.jsx)(Q,{type:"button",onClick:l,children:"Cancel"}),Object(Y.jsx)(V,{id:"addButton",type:"submit",disabled:!d.trim(),children:"Add"})]})]})}):Object(Y.jsxs)(X,{onClick:function(e){var n;e.stopPropagation(),t(!0),null===(n=r.current)||void 0===n||n.focus()},id:"newTaskButton",children:["New Task",Object(Y.jsx)(G.b,{size:"22px"})]})},_=t(5),ee=Object(_.createAction)("todo created")(),ne=Object(_.createAction)("todo edited")(),te=Object(_.createAction)("todo deleted")(),oe=Object(_.createAction)("todo board changed")(),re=Object(_.createAction)("board cleared")(),ie=Object(_.createAction)("board filtered a-z")(),ae=Object(_.createAction)("board filtered z-a")(),ce={todoCreated:ee,todoEdited:ne,todoDeleted:te,todoBoardChanged:oe,boardCleared:re,allTodosCleared:Object(_.createAction)("all todos cleared")(),todoEditModeEntered:Object(_.createAction)("todo edit mode entered")(),editModeCancelled:Object(_.createAction)("edit mode cancelled")(),boardFilteredAZ:ie,boardFilteredZA:ae},de=t(61),se=t(18),le=t(7),be=t(38),ue=t(40),fe=t(32),je=t(39),pe={key:"root",storage:t.n(je).a},Oe=Object(fe.a)(pe,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{boards:[{id:"1",title:"Life changing",todos:[]},{id:"2",title:"Important",todos:[]},{id:"3",title:"Meh",todos:[]}],editId:void 0,sort:"Index",sorted:!1},n=arguments.length>1?arguments[1]:void 0;return Object(ue.a)(e,(function(e){switch(n.type){case Object(_.getType)(ce.todoEditModeEntered):e.editId=n.payload;break;case Object(_.getType)(ce.editModeCancelled):e.editId=void 0;break;case Object(_.getType)(ce.todoCreated):var t=e.boards.find((function(e){return e.id===n.payload.board}));t&&(t.todos=[].concat(Object(se.a)(t.todos),[n.payload.todo]));break;case Object(_.getType)(ce.todoEdited):var o=e.boards.flatMap((function(e){return e.todos})).find((function(e){return e.id===n.payload.id}));o&&(o.content=n.payload.newContent),e.editId=void 0;break;case Object(_.getType)(ce.todoBoardChanged):var r=e.boards.find((function(e){return e.todos.map((function(e){return e.id})).includes(n.payload.id)})),i=r.todos.find((function(e){return e.id===n.payload.id}));if(i&&r){var a=e.boards.find((function(e){return e.id===n.payload.newBoard}));r.todos=Object(se.a)(r.todos.filter((function(e){return e.id!==i.id}))),a&&(a.todos=[].concat(Object(se.a)(a.todos),[i]))}break;case Object(_.getType)(ce.todoDeleted):var c=e.boards.find((function(e){return e.todos.map((function(e){return e.id})).includes(n.payload)}));c.todos=c.todos.filter((function(e){return e.id!==n.payload}));break;case Object(_.getType)(ce.boardCleared):var d=e.boards.find((function(e){return e.id===n.payload}));d&&(d.todos=[]);break;case Object(_.getType)(ce.boardFilteredAZ):var s=e.boards.find((function(e){return e.id===n.payload}));s&&(s.todos=Object(se.a)(s.todos.sort((function(e,n){return e.content.toLowerCase().localeCompare(n.content.toLowerCase())}))));break;case Object(_.getType)(ce.boardFilteredZA):var l=e.boards.find((function(e){return e.id===n.payload}));l&&(l.todos=Object(se.a)(l.todos.sort((function(e,n){return e.content.toLowerCase().localeCompare(n.content.toLowerCase())}))).reverse());break;case Object(_.getType)(ce.allTodosCleared):e.boards.forEach((function(e){return e.todos=[]}))}}))})),xe=Object(le.createStore)(Oe,Object(be.composeWithDevTools)(Object(le.applyMiddleware)())),ge=(Object(fe.b)(xe),z.c),he=B.a.form(p||(p=Object(S.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  z-index: 4;\n  top: 0;\n  width: 100%;\n  textarea {\n    flex: 1;\n    letter-spacing: 0.01428571em;\n    font-family: Roboto, Arial, sans-serif;\n    font-size: 0.875rem;\n    font-weight: 400;\n    line-height: 1.25rem;\n    outline: none;\n    focus: none;\n    resize: none;\n    border: none;\n    padding: 20px;\n    border-radius: 4px 4px 0 4px;\n  }\n\n"]))),me=B.a.button(O||(O=Object(S.a)(["\n  background: #4caf50;\n  padding: 8px 16px;\n  color: #fff;\n  border: none;\n  cursor: pointer;\n"]))),ye=Object(B.a)(me)(x||(x=Object(S.a)(["\nbackground: #d2d2d2;\ncolor: #000;\n"]))),ve=Object(B.a)(me)(g||(g=Object(S.a)(["\nbackground: #f44336;\n"]))),ke=Object(B.a)(me)(h||(h=Object(S.a)(["\nbackground: #4caf50;\n"]))),Ce=B.a.div(m||(m=Object(S.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]))),we=B.a.div(y||(y=Object(S.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  top: 0;\n  left: 0;\n  zindex: 3;\n"]))),Ae=function(e){var n=e.content,t=e.updateToDo,o=e.deleteToDo,r=e.cancelEditMode,i=E.a.useState(n),a=Object(I.a)(i,2),c=a[0],d=a[1],s=Object(D.createRef)();return U(s,(function(){r()})),Object(Y.jsxs)(Y.Fragment,{children:[F.a.createPortal(Object(Y.jsx)(we,{}),document.body),Object(Y.jsxs)(he,{onSubmit:function(e){e.preventDefault(),c.trim()&&t(c.trim())},ref:s,children:[Object(Y.jsx)("textarea",{autoFocus:!0,onFocus:function(e){return e.target.select()},value:c,rows:5,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),t(c))}}),Object(Y.jsxs)(Ce,{children:[Object(Y.jsx)(ye,{type:"button",onClick:r,children:"Cancel"}),Object(Y.jsx)(ve,{type:"button",onClick:o,children:"Delete"}),Object(Y.jsx)(ke,{type:"submit",disabled:!c.trim(),children:"Update"})]})]})]})},Te=t(62),De=B.a.div(v||(v=Object(S.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  padding: 20px;\n  background: #fff;\n  border-radius: 4px;\n  letter-spacing: 0.01428571em;\n  font-family: Roboto, Arial, sans-serif;\n  font-size: 0.875rem;\n  font-weight: 400;\n  line-height: 1.25rem;\n  color: #000;\n  align-items: flex-start;\n  cursor: pointer;\n  p {\n    flex: 1;\n    margin: 0;\n  }\n"]))),Ee=B.a.button(k||(k=Object(S.a)(["\n  position: absolute;\n  right: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  opacity: 0.5;\n  transition: 0.3s;\n  background: none;\n  svg {\n    height: 22px;\n    width: 22px;\n  }\n  :hover {\n    opacity: 1;\n  }\n"]))),Me=function(e){var n=e.todo,t=n.content,o=n.id,r=e.editToDo,i=Object(D.useState)(!1),a=Object(I.a)(i,2),c=a[0],d=a[1],s=Object(Te.a)({item:{id:o,type:"*"},collect:function(e){return{opacity:e.isDragging()?.4:1}}}),l=Object(I.a)(s,2)[1];return Object(Y.jsxs)(De,{ref:l,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:[Object(Y.jsx)("p",{children:t}),c&&Object(Y.jsx)(Ee,{onClick:function(e){e.stopPropagation(),r()},children:Object(Y.jsx)(G.a,{})})]})},Fe=function(e){var n=e.todo,t=Object(z.b)(),o=ge((function(e){return e.editId===n.id}));return Object(Y.jsxs)("div",{style:{position:"relative"},id:"listItem",children:[Object(Y.jsx)(Me,{todo:n,editToDo:function(){return t(ce.todoEditModeEntered(n.id))}}),o&&Object(Y.jsx)(Ae,{content:n.content,updateToDo:function(e){return t(ce.todoEdited({id:n.id,newContent:e}))},deleteToDo:function(){return t(ce.todoDeleted(n.id))},cancelEditMode:function(){return t(ce.editModeCancelled())}})]})},ze=B.a.div(C||(C=Object(S.a)(["\n  position: relative;\n"]))),Ie=B.a.ul(w||(w=Object(S.a)(["\n  position: absolute;\n  padding: 0;\n  list-style: none;\n  background: #fff;\n  z-index: 2;\n  margin: 0;\n  right: 0;\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\n"]))),Re=B.a.li(A||(A=Object(S.a)(["\n  cursor: pointer;\n  white-space: nowrap;\n  padding: 10px;\n  :hover{\n      background:#efefef;\n  }\n"]))),Se=function(e){var n=e.items,t=E.a.useState(!1),o=Object(I.a)(t,2),r=o[0],i=o[1],a=Object(D.createRef)();return U(a,(function(){i(!1)})),Object(Y.jsxs)(ze,{ref:a,children:[Object(Y.jsx)(P,{onClick:function(){return i(!r)},children:Object(Y.jsx)(G.c,{})}),r&&Object(Y.jsx)(Ie,{children:n.map((function(e,n){return Object(Y.jsx)(Re,{onClick:function(){e.onClick(),i(!1)},children:e.label},n)}))})]})},Be=function(e){var n=e.board,t=n.id,o=n.title,r=n.todos,i=e.onDrop,a=Object(z.b)(),c=E.a.useState(!1),d=Object(I.a)(c,2),s=d[0],l=d[1],b=Object(R.a)({drop:i,accept:"*",collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),u=Object(I.a)(b,2),f=u[0].isOver,j=u[1],p=[{label:"Clear board",onClick:function(){return a(ce.boardCleared(t))}},{label:"Filter A-Z",onClick:function(){return a(ce.boardFilteredAZ(t))}},{label:"Filter Z-A",onClick:function(){return a(ce.boardFilteredZA(t))}}];return Object(Y.jsxs)(L,{ref:j,children:[Object(Y.jsxs)(Z,{children:[Object(Y.jsx)("h3",{children:o}),Object(Y.jsx)(Se,{items:p})]}),Object(Y.jsxs)(J,{id:"listContainer",children:[r.map((function(e){return Object(Y.jsx)(Fe,{todo:e},e.id)})),f&&Object(Y.jsx)(K,{}),r.length<1&&!s&&!f&&Object(Y.jsx)(N,{children:"No tasks to show"}),Object(Y.jsx)($,{isOpen:s,setIsOpen:l,createTask:function(e){return a(ce.todoCreated({todo:{id:Object(de.a)(),content:e},board:t}))}})]})]})},Le=B.a.div(T||(T=Object(S.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: start;\n\n  @media (max-width: 560px) {\n    flex-direction: column;\n    align-items: stretch;\n  }\n"]))),Ze=function(){var e=Object(z.b)(),n=ge((function(e){return e.boards}));return Object(Y.jsx)(Le,{children:n.map((function(n){return Object(Y.jsx)(Be,{board:n,clearGroup:function(){return e(ce.boardCleared(n.id))},onDrop:function(t){return e(ce.todoBoardChanged({newBoard:n.id,id:t.id}))}},n.id)}))})},Pe=t(42),Je=t(41),Ke=(t(56),document.getElementById("root"));Object(M.render)(Object(Y.jsx)(E.a.StrictMode,{children:Object(Y.jsx)(z.a,{store:xe,children:Object(Y.jsx)(Pe.a,{options:Je.a,children:Object(Y.jsx)(Ze,{})})})}),Ke)}},[[57,1,2]]]);
//# sourceMappingURL=main.ced97c50.chunk.js.map